using System;
using MatFlat;

public static class Program
{
    public static unsafe void Main(string[] args)
    {
        var sb = new double[]
        {
            0.6321213333333326, -0.19952666666666713, 1.652483999999999, 0.712793333333333,
            -0.19952666666666713, 0.11344933333333353, -0.572396000000001, -0.22932666666666712,
            1.652483999999999, -0.572396000000001, 4.371027999999999, 1.8677399999999995,
            0.712793333333333, -0.22932666666666712, 1.8677399999999995, 0.8041333333333333,
        };

        var sw = new double[]
        {
            0.26500816326530613, 0.09272108843537412, 0.16751428571428575, 0.038401360544217694,
            0.09272108843537412, 0.11538775510204084, 0.05524353741496599, 0.03271020408163266,
            0.16751428571428575, 0.05524353741496599, 0.1851877551020409, 0.04266530612244898,
            0.038401360544217694, 0.03271020408163266, 0.04266530612244898, 0.04188163265306122,
        };

        var d = new double[4];

        fixed (double* psb = sb)
        fixed (double* psw = sw)
        fixed (double* pd = d)
        {
            Factorization.Gevd(4, psb, 4, psw, 4, pd);
        }

        var pos = 0;
        for (var i = 0; i < 4; i++)
        {
            for (var j = 0; j < 4; j++)
            {
                Console.Write(sb[pos] + ", ");
                pos++;
            }
            Console.WriteLine();
        }
    }
}
